import{d as q,r as _,j as A,a,c as y,b as t,w as l,F as C,o as g,g as i,e as c,t as V,u as k,n as D,k as I,q as G,s as H,l as J,_ as K}from"./index-Xpy_FskK.js";import{g as O,f as Q}from"./index-pTBkHeYb.js";const R={class:"card_head"},W={class:"card_body"},X={style:{"text-align":"center"}},Y={class:"card_bottom"},Z=["id"],ee=q({__name:"CategoryView",setup(te){const w=_([{label:"启用",status:1},{label:"禁用",status:0}]),n=_({}),r=_(!1),v=_("");function z(){console.log("添加类别"),r.value=!0,v.value="新增菜品分类",n.value={}}function x(u){console.log("编辑菜品分类"),r.value=!0,n.value.name=u.name,n.value.status=u.status,n.value.id=u.id}const h=async()=>{console.log("submit!"),r.value=!await Q(n.value),p()},s=_({current:1,size:10,total:0}),U=u=>{console.log(`current page: ${u}`),s.value.current=u,p()},p=async()=>{console.log("refresh category list");const u=await O(s.value.current,s.value.size);s.value=u};return A(()=>{p()}),(u,o)=>{const d=a("el-button"),B=a("el-col"),S=a("el-row"),m=a("el-table-column"),L=a("el-tag"),N=a("el-table"),$=a("el-pagination"),j=a("el-card"),E=a("el-input"),f=a("el-form-item"),F=a("el-option"),M=a("el-select"),P=a("el-form"),T=a("el-drawer");return g(),y(C,null,[t(j,{class:"card"},{default:l(()=>[i("div",R,[t(S,{gutter:50},{default:l(()=>[t(B,{span:3},{default:l(()=>[t(d,{icon:"Plus",size:"large",type:"primary",onClick:z},{default:l(()=>[c("新增菜品分类")]),_:1})]),_:1})]),_:1})]),i("div",W,[t(N,{data:s.value.records,border:"",style:{width:"100%"}},{default:l(()=>[t(m,{prop:"name",label:"分类名称"}),t(m,{label:"分类状态"},{default:l(({row:e})=>[t(L,{size:"large",type:e.status===1?"success":"danger",effect:"dark"},{default:l(()=>[c(V(e.status===1?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),t(m,{label:"操作"},{default:l(({row:e})=>[i("div",X,[t(d,{icon:k(G),onClick:b=>x(e),type:"primary"},{default:l(()=>[c("编辑分类")]),_:2},1032,["icon","onClick"]),t(d,{icon:k(H),type:"danger"},{default:l(()=>[c("删除分类")]),_:1},8,["icon"])])]),_:1})]),_:1},8,["data"])]),i("div",Y,[t($,{"current-page":s.value.current,"onUpdate:currentPage":o[0]||(o[0]=e=>s.value.current=e),"page-size":s.value.size,"onUpdate:pageSize":o[1]||(o[1]=e=>s.value.size=e),layout:"total, prev, pager, next, jumper",total:s.value.total,onCurrentChange:U},null,8,["current-page","page-size","total"])])]),_:1}),t(T,{modelValue:r.value,"onUpdate:modelValue":o[5]||(o[5]=e=>r.value=e),"show-close":!1},{header:l(({titleId:e,titleClass:b})=>[i("h4",{id:e,class:D(b)},V(v.value),11,Z)]),default:l(()=>[t(P,{model:n.value,"label-width":"120px","label-position":"left"},{default:l(()=>[t(f,{label:"分类名称"},{default:l(()=>[t(E,{modelValue:n.value.name,"onUpdate:modelValue":o[2]||(o[2]=e=>n.value.name=e),"prefix-icon":"Menu",placeholder:"请输入分类名称"},null,8,["modelValue"])]),_:1}),t(f,{label:"分类状态"},{default:l(()=>[t(M,{modelValue:n.value.status,"onUpdate:modelValue":o[3]||(o[3]=e=>n.value.status=e),placeholder:"选择状态"},{default:l(()=>[(g(!0),y(C,null,I(w.value,e=>(g(),J(F,{key:e.status,label:e.label,value:e.status},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(f,null,{default:l(()=>[t(d,{type:"primary",onClick:h},{default:l(()=>[c("提交")]),_:1}),t(d,{onClick:o[4]||(o[4]=e=>r.value=!1)},{default:l(()=>[c("取消 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}}),oe=K(ee,[["__scopeId","data-v-76dea28b"]]);export{oe as default};
